---
layout: default
---

<article class="page">

  {% comment %}
  â–¸ Breadcrumb trail: recursively walk up the organization hierarchy (no "Home")
  {% endcomment %}
  {% assign current_parent = page.parent_organization %}
  {% assign chain = "" | split: "" %}
  {% assign visited = "" | split: "" %}

  {% assign max_depth = 500 %}
  {% for i in (1..max_depth) %}
    {% if current_parent %}
      {% if visited contains current_parent %}
        {% break %}
      {% endif %}
      {% assign visited = visited | push: current_parent %}
      {% assign parent_doc = site.organizations | where: "title", current_parent | first %}
      {% if parent_doc %}
        {% assign chain = chain | push: parent_doc %}
        {% assign current_parent = parent_doc.parent_organization %}
      {% else %}
        {% assign chain = chain | push: current_parent %}
        {% assign current_parent = nil %}
      {% endif %}
    {% else %}
      {% break %}
    {% endif %}
  {% endfor %}

  {% assign chain = chain | reverse %}
  {% assign breadcrumb_current = page.title %}
  {% assign org_trail = "" | split: "" %}
  {% if chain and chain.size > 0 %}
    {% for crumb in chain %}
      {% if crumb.title %}
        {% assign org_trail = org_trail | push: crumb %}
      {% else %}
        {% assign crumb_text = crumb | strip %}
        {% if crumb_text != "" %}
          {% assign org_trail = org_trail | push: crumb_text %}
        {% endif %}
      {% endif %}
    {% endfor %}
  {% endif %}
  <header class="page-header">
    {% include breadcrumbs.html root_label="Organizations" root_url="/organizations/" trail=org_trail current=breadcrumb_current %}
    {% if page.topics and page.topics.size > 0 %}
      <div class="org-topics">
        {% for t in page.topics %}
          {% assign topic_doc = site.topics | where: "title", t | first %}
          {% if topic_doc %}
            <a class="topic-pill" href="{{ topic_doc.url | relative_url }}">{{ t }}</a>
          {% else %}
            <span class="topic-pill">{{ t }}</span>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}
  </header>

  {% assign org_news_posts = site.posts | where: "source", page.title %}
  {% if org_news_posts %}
    {% assign org_news_posts = org_news_posts | sort: 'date' | reverse %}
  {% endif %}

  {% assign has_contact_info = false %}
  {% if page.email or page.phone or page.address %}
    {% assign has_contact_info = true %}
  {% endif %}

  <div class="page-content{% unless has_contact_info %} page-content--compact{% endunless %}">

    {% if has_contact_info %}
      <table class="org-info">
        <tbody>
          {% if page.email %}
          <tr>
            <th>Email</th>
            <td><a href="mailto:{{ page.email }}">{{ page.email }}</a></td>
          </tr>
          {% endif %}

          {% if page.phone %}
            {% assign tel = page.phone | replace: ' ', '' | replace: '(', '' | replace: ')', '' | replace: '-', '' %}
            <tr>
              <th>Phone</th>
              <td><a href="tel:+1{{ tel }}">+1 {{ page.phone }}</a></td>
            </tr>
          {% endif %}

          {% if page.address %}
          <tr>
            <th>Address</th>
            <td>
              {{ page.address }}<br/>
              <a href="https://www.google.com/maps/search/?api=1&query={{ page.address | uri_escape }}" rel="noopener noreferrer">View on map</a>
            </td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    {% endif %}

    {% if content %}
      <div class="org-body">
        {{ content }}
      </div>
    {% endif %}

    {% if org_news_posts and org_news_posts.size > 0 %}
      <section class="news-section">
        <h2>News related to {{ page.title }}</h2>
        <ul class="news-list">
          {% for post in org_news_posts %}
            <li class="news-item">
              <h3 class="news-title">
                <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
              </h3>
              <p class="news-meta">
                <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %-d, %Y" }}</time>
              </p>
              {% assign news_excerpt = post.excerpt | strip_html | strip_newlines %}
              {% if news_excerpt %}
                <p class="news-excerpt">{{ news_excerpt | truncate: 220 }}</p>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      </section>
    {% endif %}

    {% if page.website %}
      <p class="org-website">
        For more information, see the
        <a href="{{ page.website }}" rel="noopener noreferrer">{{ page.title }} website</a>.
      </p>
    {% endif %}

    {% assign all_orgs = site.organizations | sort: "title" %}
    {% assign children = all_orgs | where: "parent_organization", page.title %}
    {% if children and children.size > 0 %}
      <hr/>
      <h2>Units within the {{ page.title }}</h2>
    <div class="hierarchy-tree">
      <ul class="hierarchy-tree-list">
        {% for child in children %}
          {% include org-tree.html organization=child organizations=all_orgs %}
        {% endfor %}
      </ul>
    </div>
    {% endif %}
  </div>
</article>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": {{ page.title | jsonify }},
  {% if page.acronym %}"alternateName": {{ page.acronym | jsonify }},{% endif %}
  {% if page.website %}"url": {{ page.website | jsonify }},{% endif %}
  {% if page.email %}"email": {{ page.email | jsonify }},{% endif %}
  {% if page.phone %}"telephone": {{ page.phone | jsonify }},{% endif %}
  {% if page.address %}
  "address": {
    "@type": "PostalAddress",
    "streetAddress": {{ page.address | jsonify }}
  },
  {% endif %}
  "department": [
    {% for child in children %}
      { "@type": "Organization", "name": {{ child.title | jsonify }} }{% if forloop.last == false %},{% endif %}
    {% endfor %}
  ]
}
</script>
