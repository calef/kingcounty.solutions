---
layout: default
---

{%- assign pager = pagination | default: paginator -%}
{%- assign current_page_number = pager.page | default: paginator.page | default: 1 -%}
{%- assign current_page_label = "Page " | append: current_page_number -%}

<article>
  <header>
    {% include breadcrumbs.html root_url="/" root_label="News" current=current_page_label %}
    <h1>
      News â€” {{ current_page_label }}
    </h1>
  </header>

  {% if paginator and paginator.page < 2 %}
    {{ content }}
  {% endif %}

  {%- assign paginated_posts = pager.posts | default: site.posts -%}

  <section>
    {%- for post in paginated_posts -%}
      {% include news-item.html post=post %}
    {%- endfor -%}
  </section>

  {%- if pager -%}
    {%- assign total_pages = pager.total_pages | default: pager.page_count | default: 1 -%}
    {%- if total_pages > 1 -%}
      <nav class="news-pagination" aria-label="News pagination">
        {%- assign previous_path = pager.previous_page_path | default: pager.previous -%}
        {%- assign next_path = pager.next_page_path | default: pager.next -%}
        <div class="news-pagination-links">
          <div class="news-pagination-group news-pagination-left">
            {%- if previous_path -%}
              <a class="news-pagination-link" href="{{ previous_path | relative_url }}">&larr; Newer</a>
            {%- else -%}
              <span class="news-pagination-link is-disabled" aria-hidden="true">&larr; Newer</span>
            {%- endif -%}
          </div>

          <div class="news-pagination-group news-pagination-center">
            <span class="news-pagination-page-count">
              Page {{ pager.page | default: 1 }} of {{ total_pages }}
            </span>
          </div>

          <div class="news-pagination-group news-pagination-right">
            {%- if next_path -%}
              <a class="news-pagination-link" href="{{ next_path | relative_url }}">Older &rarr;</a>
            {%- else -%}
              <span class="news-pagination-link is-disabled" aria-hidden="true">Older &rarr;</span>
            {%- endif -%}
          </div>
        </div>
      </nav>
    {%- endif -%}
  {%- endif -%}
</article>
