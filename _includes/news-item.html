<article>
  <header>
    <h3>
      <a href="{{ include.post.url | relative_url }}">{{ include.post.title }}</a>
    </h3>
    <p class="news-meta">
      <time datetime="{{ include.post.date | date_to_xmlschema }}">{{ include.post.date | date: "%B %-d, %Y" }}</time>
      {%- assign show_source = include.show_source -%}
      {%- if show_source == nil -%}
        {%- assign show_source = true -%}
      {%- endif -%}
      {%- if show_source != false and show_source != 'false' and show_source != 0 and show_source != '0' -%}
        {%- assign source_text = include.source_text | default: include.post.source | default: include.post.source_url -%}
        {%- if source_text -%}
          â€¢ <span class="news-source">
            {%- assign matching_org = nil -%}
            {%- if include.post.source -%}
              {%- assign matching_org = site.organizations | where: "title", include.post.source | first -%}
            {%- endif -%}
            {%- if matching_org -%}
              <a href="{{ matching_org.url | relative_url }}">{{ include.post.source }}</a>
            {%- elsif include.post.source_url -%}
              <a href="{{ include.post.source_url }}" rel="noopener noreferrer">{{ source_text }}</a>
            {%- else -%}
              {{ source_text }}
            {%- endif -%}
          </span>
        {%- endif -%}
      {%- endif -%}
    </p>
  </header>
  {%- assign news_excerpt = include.excerpt | default: include.post.excerpt -%}
  {%- if news_excerpt -%}
    {%- assign news_excerpt = news_excerpt | strip_html | strip_newlines -%}
  {%- endif -%}
  {%- if news_excerpt -%}
    <p class="news-excerpt">{{ news_excerpt | truncate: 220 }}</p>
  {%- endif -%}
</article>
